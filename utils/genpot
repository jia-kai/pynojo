# $File: genpot
# $Date: Fri Feb 03 14:30:43 2012 +0800
# $Author: jiakai <jia.kai66@gmail.com>

. ../init.sh

echo -n "Generating pot file ..."
find ../pynojo -name "*.pt" | python xgettext-pt.py > ptmsg.py

eval $(grep 'RELEASE =' pynojo/config/pkg.py | sed -e 's/ //g')

(cd ..; find . -name "*.py" | \
	xgettext --copyright-holder 'pynojo development team' --package-name pynojo \
	--package-version "$RELEASE" --from-code=UTF-8 --keyword=_  \
	--keyword=_pl:1,2 -f - -o -) > pynojo/nls/pynojo.pot

echo ' done'

# vim: ft=sh
